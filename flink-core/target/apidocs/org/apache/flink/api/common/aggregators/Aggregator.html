<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_51) on Mon Apr 17 20:26:26 CST 2017 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Aggregator (flink-core 1.1.4 API)</title>
<meta name="date" content="2017-04-17">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Aggregator (flink-core 1.1.4 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/Aggregator.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../../index-all.html">索引</a></li>
<li><a href="../../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>上一个类</li>
<li><a href="../../../../../../org/apache/flink/api/common/aggregators/AggregatorRegistry.html" title="org.apache.flink.api.common.aggregators中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/flink/api/common/aggregators/Aggregator.html" target="_top">框架</a></li>
<li><a href="Aggregator.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.flink.api.common.aggregators</div>
<h2 title="接口 Aggregator" class="title">接口 Aggregator&lt;T extends <a href="../../../../../../org/apache/flink/types/Value.html" title="org.apache.flink.types中的接口">Value</a>&gt;</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">类型参数:</span></dt>
<dd><code>T</code> - The type of the aggregated value.</dd>
</dl>
<dl>
<dt>所有超级接口:</dt>
<dd><a href="http://docs.oracle.com/javase/7/docs/api/java/io/Serializable.html?is-external=true" title="java.io中的类或接口">Serializable</a></dd>
</dl>
<dl>
<dt>所有已知实现类:</dt>
<dd><a href="../../../../../../org/apache/flink/api/common/operators/base/BulkIterationBase.TerminationCriterionAggregator.html" title="org.apache.flink.api.common.operators.base中的类">BulkIterationBase.TerminationCriterionAggregator</a>, <a href="../../../../../../org/apache/flink/api/common/aggregators/DoubleSumAggregator.html" title="org.apache.flink.api.common.aggregators中的类">DoubleSumAggregator</a>, <a href="../../../../../../org/apache/flink/api/common/aggregators/LongSumAggregator.html" title="org.apache.flink.api.common.aggregators中的类">LongSumAggregator</a></dd>
</dl>
<hr>
<br>
<pre>@PublicEvolving
public interface <span class="typeNameLabel">Aggregator&lt;T extends <a href="../../../../../../org/apache/flink/types/Value.html" title="org.apache.flink.types中的接口">Value</a>&gt;</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/io/Serializable.html?is-external=true" title="java.io中的类或接口">Serializable</a></pre>
<div class="block">Aggregators are a means of aggregating values across parallel instances of a function. Aggregators  
 collect simple statistics (such as the number of processed elements) about the actual work performed in a function.
 Aggregators are specific to iterations and are commonly used to check the convergence of an iteration by using a
 <a href="../../../../../../org/apache/flink/api/common/aggregators/ConvergenceCriterion.html" title="org.apache.flink.api.common.aggregators中的接口"><code>ConvergenceCriterion</code></a>. In contrast to the <a href="../../../../../../org/apache/flink/api/common/accumulators/Accumulator.html" title="org.apache.flink.api.common.accumulators中的接口"><code>Accumulator</code></a> (whose result is available at the end of a job,
 the aggregators are computed once per iteration superstep. Their value can be used to check for convergence (at the end
 of the iteration superstep) and it can be accessed in the next iteration superstep.
 <p>
 Aggregators must be registered at the iteration inside which they are used via the function. In the Java API, the
 method is "IterativeDataSet.registerAggregator(...)" or "IterativeDataSet.registerAggregationConvergenceCriterion(...)"
 when using the aggregator together with a convergence criterion. Aggregators are always registered under a name. That
 name can be used to access the aggregator at runtime from within a function. The following code snippet shows a typical
 case. Here, it count across all parallel instances how many elements are filtered out by a function.
 
 <pre>
 // the user-defined function 
 public class MyFilter extends FilterFunction&lt;Double&gt; {
     private LongSumAggregator agg;
     
     public void open(Configuration parameters) {
         agg = getIterationRuntimeContext().getIterationAggregator("numFiltered");
     }
     
     public boolean filter (Double value) {
         if (value &gt; 1000000.0) {
             agg.aggregate(1);
             return false
         }
         
         return true;
     }
 }
 
 // the iteration where the aggregator is registered
 IterativeDataSet&lt;Double&gt; iteration = input.iterate(100).registerAggregator("numFiltered", LongSumAggregator.class);
 ...
 DataSet&lt;Double&gt; filtered = someIntermediateResult.filter(new MyFilter);
 ...
 DataSet&lt;Double&gt; result = iteration.closeWith(filtered);
 ...
 </pre>
 
 <p>
 Aggregators must be <i>distributive</i>: An aggregator must be able to pre-aggregate values and it must be able
 to aggregate these pre-aggregated values to form the final aggregate. Many aggregation functions fulfill this
 condition (sum, min, max) and others can be brought into that form: One can expressing <i>count</i> as a sum over
 values of one, and one can express <i>average</i> through a sum and a count.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/api/common/aggregators/Aggregator.html#aggregate-T-">aggregate</a></span>(<a href="../../../../../../org/apache/flink/api/common/aggregators/Aggregator.html" title="Aggregator中的类型参数">T</a>&nbsp;element)</code>
<div class="block">Aggregates the given element.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/flink/api/common/aggregators/Aggregator.html" title="Aggregator中的类型参数">T</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/api/common/aggregators/Aggregator.html#getAggregate--">getAggregate</a></span>()</code>
<div class="block">Gets the aggregator's current aggregate.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/api/common/aggregators/Aggregator.html#reset--">reset</a></span>()</code>
<div class="block">Resets the internal state of the aggregator.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="getAggregate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAggregate</h4>
<pre><a href="../../../../../../org/apache/flink/api/common/aggregators/Aggregator.html" title="Aggregator中的类型参数">T</a>&nbsp;getAggregate()</pre>
<div class="block">Gets the aggregator's current aggregate.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>The aggregator's current aggregate.</dd>
</dl>
</li>
</ul>
<a name="aggregate-org.apache.flink.types.Value-">
<!--   -->
</a><a name="aggregate-T-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>aggregate</h4>
<pre>void&nbsp;aggregate(<a href="../../../../../../org/apache/flink/api/common/aggregators/Aggregator.html" title="Aggregator中的类型参数">T</a>&nbsp;element)</pre>
<div class="block">Aggregates the given element. In the case of a <i>sum</i> aggregator, this method adds the given
 value to the sum.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>element</code> - The element to aggregate.</dd>
</dl>
</li>
</ul>
<a name="reset--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>reset</h4>
<pre>void&nbsp;reset()</pre>
<div class="block">Resets the internal state of the aggregator. This must bring the aggregator into the same
 state as if it was newly initialized.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/Aggregator.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../../index-all.html">索引</a></li>
<li><a href="../../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>上一个类</li>
<li><a href="../../../../../../org/apache/flink/api/common/aggregators/AggregatorRegistry.html" title="org.apache.flink.api.common.aggregators中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/flink/api/common/aggregators/Aggregator.html" target="_top">框架</a></li>
<li><a href="Aggregator.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2014&#x2013;2017 <a href="http://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</body>
</html>
