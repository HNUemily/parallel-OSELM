<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_51) on Mon Apr 17 20:26:26 CST 2017 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>BroadcastVariableInitializer (flink-core 1.1.4 API)</title>
<meta name="date" content="2017-04-17">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="BroadcastVariableInitializer (flink-core 1.1.4 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/BroadcastVariableInitializer.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../../index-all.html">索引</a></li>
<li><a href="../../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/flink/api/common/functions/AbstractRichFunction.html" title="org.apache.flink.api.common.functions中的类"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../../../../org/apache/flink/api/common/functions/CoGroupFunction.html" title="org.apache.flink.api.common.functions中的接口"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/flink/api/common/functions/BroadcastVariableInitializer.html" target="_top">框架</a></li>
<li><a href="BroadcastVariableInitializer.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.flink.api.common.functions</div>
<h2 title="接口 BroadcastVariableInitializer" class="title">接口 BroadcastVariableInitializer&lt;T,O&gt;</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">类型参数:</span></dt>
<dd><code>T</code> - The type of the elements in the list of the original untransformed broadcast variable.</dd>
<dd><code>O</code> - The type of the transformed broadcast variable.</dd>
</dl>
<hr>
<br>
<pre>@Public
public interface <span class="typeNameLabel">BroadcastVariableInitializer&lt;T,O&gt;</span></pre>
<div class="block">A broadcast variable initializer can be used to transform a broadcast variable
 into another format during initialization. The transformed variable is shared
 among the parallel instances of a function inside one TaskManager, the
 same way as the plain broadcast variables (lists) are shared.
 
 <p>The broadcast variable initializer will in many cases only be executed by one
 parallel function instance per TaskManager, when acquiring the broadcast variable
 for the first time inside that particular TaskManager. It is possible that a
 broadcast variable is read and initialized multiple times, if the tasks that use
 the variables are not overlapping in their execution time; in such cases, it can
 happen that one function instance released the broadcast variable, and another
 function instance materializes it again.
 
 <p>This is an example of how to use a broadcast variable initializer, transforming
 the shared list of values into a shared map.
 
 <pre><code>
 public class MyFunction extends RichMapFunction&lt;Long, String&gt; {

     private Map&lt;Long, String&gt; map;

     public void open(Configuration cfg) throws Exception {
         getRuntimeContext().getBroadcastVariableWithInitializer("mapvar",
             new BroadcastVariableInitializer&lt;Tuple2&lt;Long, String&gt;, Map&lt;Long, String&gt;&gt;() {
             
                 public Map&lt;Long, String&gt; initializeBroadcastVariable(Iterable&lt;Tuple2&lt;Long, String&gt;&gt; data) {
                     Map&lt;Long, String&gt; map = new HashMap&lt;&gt;();
                     
                     for (Tuple2&lt;Long, String&gt; t : data) {
                         map.put(t.f0, t.f1);
                     }
                     
                     return map;
                 }
             });
     }
     
     public String map(Long value) {
         // replace the long by the String, based on the map
         return map.get(value);
     }
 }
 
 </code></pre></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/flink/api/common/functions/BroadcastVariableInitializer.html" title="BroadcastVariableInitializer中的类型参数">O</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/apache/flink/api/common/functions/BroadcastVariableInitializer.html#initializeBroadcastVariable-java.lang.Iterable-">initializeBroadcastVariable</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Iterable.html?is-external=true" title="java.lang中的类或接口">Iterable</a>&lt;<a href="../../../../../../org/apache/flink/api/common/functions/BroadcastVariableInitializer.html" title="BroadcastVariableInitializer中的类型参数">T</a>&gt;&nbsp;data)</code>
<div class="block">The method that reads the data elements from the broadcast variable and
 creates the transformed data structure.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="initializeBroadcastVariable-java.lang.Iterable-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>initializeBroadcastVariable</h4>
<pre><a href="../../../../../../org/apache/flink/api/common/functions/BroadcastVariableInitializer.html" title="BroadcastVariableInitializer中的类型参数">O</a>&nbsp;initializeBroadcastVariable(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Iterable.html?is-external=true" title="java.lang中的类或接口">Iterable</a>&lt;<a href="../../../../../../org/apache/flink/api/common/functions/BroadcastVariableInitializer.html" title="BroadcastVariableInitializer中的类型参数">T</a>&gt;&nbsp;data)</pre>
<div class="block">The method that reads the data elements from the broadcast variable and
 creates the transformed data structure.
 
 <p>The iterable with the data elements can be traversed only once, i.e., 
 only the first call to <code>iterator()</code> will succeed.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>data</code> - The sequence of elements in the broadcast variable.</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>The transformed broadcast variable.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/BroadcastVariableInitializer.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../../index-all.html">索引</a></li>
<li><a href="../../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/flink/api/common/functions/AbstractRichFunction.html" title="org.apache.flink.api.common.functions中的类"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../../../../org/apache/flink/api/common/functions/CoGroupFunction.html" title="org.apache.flink.api.common.functions中的接口"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/flink/api/common/functions/BroadcastVariableInitializer.html" target="_top">框架</a></li>
<li><a href="BroadcastVariableInitializer.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2014&#x2013;2017 <a href="http://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</body>
</html>
