<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_51) on Mon Apr 17 20:29:49 CST 2017 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>ZooKeeperStateHandleStore (flink-runtime 1.1.4 API)</title>
<meta name="date" content="2017-04-17">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ZooKeeperStateHandleStore (flink-runtime 1.1.4 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/ZooKeeperStateHandleStore.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../index-all.html">索引</a></li>
<li><a href="../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/flink/runtime/zookeeper/StateStorageHelper.html" title="org.apache.flink.runtime.zookeeper中的接口"><span class="typeNameLink">上一个类</span></a></li>
<li>下一个类</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/flink/runtime/zookeeper/ZooKeeperStateHandleStore.html" target="_top">框架</a></li>
<li><a href="ZooKeeperStateHandleStore.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li><a href="#field.summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field.detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.flink.runtime.zookeeper</div>
<h2 title="类 ZooKeeperStateHandleStore" class="title">类 ZooKeeperStateHandleStore&lt;T extends <a href="http://docs.oracle.com/javase/7/docs/api/java/io/Serializable.html?is-external=true" title="java.io中的类或接口">Serializable</a>&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.flink.runtime.zookeeper.ZooKeeperStateHandleStore&lt;T&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">类型参数:</span></dt>
<dd><code>T</code> - Type of state</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">ZooKeeperStateHandleStore&lt;T extends <a href="http://docs.oracle.com/javase/7/docs/api/java/io/Serializable.html?is-external=true" title="java.io中的类或接口">Serializable</a>&gt;</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">Object</a></pre>
<div class="block">State handles backed by ZooKeeper.

 <p>Added state is persisted via <a href="../../../../../org/apache/flink/runtime/state/StateHandle.html" title="org.apache.flink.runtime.state中的接口"><code>StateHandle</code></a>s, which in turn are written to
 ZooKeeper. This level of indirection is necessary to keep the amount of data in ZooKeeper
 small. ZooKeeper is build for data in the KB range whereas state can grow to multiple MBs.

 <p>State modifications require some care, because it is possible that certain failures bring
 the state handle backend and ZooKeeper out of sync.

 <p>ZooKeeper holds the ground truth about state handles, i.e. the following holds:

 <pre>
 State handle in ZooKeeper =&gt; State handle exists
 </pre>

 But not:

 <pre>
 State handle exists =&gt; State handle in ZooKeeper
 </pre>

 There can be lingering state handles when failures happen during operation. They
 need to be cleaned up manually (see <a href="https://issues.apache.org/jira/browse/FLINK-2513">
 FLINK-2513</a> about a possible way to overcome this).</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>字段概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="字段概要表, 列表字段和解释">
<caption><span>字段</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">字段和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static org.slf4j.Logger</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/zookeeper/ZooKeeperStateHandleStore.html#LOG">LOG</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>构造器概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="构造器概要表, 列表构造器和解释">
<caption><span>构造器</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">构造器和说明</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/zookeeper/ZooKeeperStateHandleStore.html#ZooKeeperStateHandleStore-org.apache.curator.framework.CuratorFramework-org.apache.flink.runtime.zookeeper.StateStorageHelper-java.util.concurrent.Executor-">ZooKeeperStateHandleStore</a></span>(org.apache.curator.framework.CuratorFramework&nbsp;client,
                         <a href="../../../../../org/apache/flink/runtime/zookeeper/StateStorageHelper.html" title="org.apache.flink.runtime.zookeeper中的接口">StateStorageHelper</a>&nbsp;storage,
                         <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executor.html?is-external=true" title="java.util.concurrent中的类或接口">Executor</a>&nbsp;executor)</code>
<div class="block">Creates a <a href="../../../../../org/apache/flink/runtime/zookeeper/ZooKeeperStateHandleStore.html" title="org.apache.flink.runtime.zookeeper中的类"><code>ZooKeeperStateHandleStore</code></a>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/flink/runtime/state/StateHandle.html" title="org.apache.flink.runtime.state中的接口">StateHandle</a>&lt;<a href="../../../../../org/apache/flink/runtime/zookeeper/ZooKeeperStateHandleStore.html" title="ZooKeeperStateHandleStore中的类型参数">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/zookeeper/ZooKeeperStateHandleStore.html#add-java.lang.String-T-">add</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;pathInZooKeeper,
   <a href="../../../../../org/apache/flink/runtime/zookeeper/ZooKeeperStateHandleStore.html" title="ZooKeeperStateHandleStore中的类型参数">T</a>&nbsp;state)</code>
<div class="block">Creates a state handle and stores it in ZooKeeper with create mode <code>CreateMode.PERSISTENT</code>.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/flink/runtime/state/StateHandle.html" title="org.apache.flink.runtime.state中的接口">StateHandle</a>&lt;<a href="../../../../../org/apache/flink/runtime/zookeeper/ZooKeeperStateHandleStore.html" title="ZooKeeperStateHandleStore中的类型参数">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/zookeeper/ZooKeeperStateHandleStore.html#add-java.lang.String-T-org.apache.zookeeper.CreateMode-">add</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;pathInZooKeeper,
   <a href="../../../../../org/apache/flink/runtime/zookeeper/ZooKeeperStateHandleStore.html" title="ZooKeeperStateHandleStore中的类型参数">T</a>&nbsp;state,
   org.apache.zookeeper.CreateMode&nbsp;createMode)</code>
<div class="block">Creates a state handle and stores it in ZooKeeper.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/zookeeper/ZooKeeperStateHandleStore.html#exists-java.lang.String-">exists</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;pathInZooKeeper)</code>
<div class="block">Returns the version of the node if it exists or <code>-1</code> if it doesn't.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/flink/runtime/state/StateHandle.html" title="org.apache.flink.runtime.state中的接口">StateHandle</a>&lt;<a href="../../../../../org/apache/flink/runtime/zookeeper/ZooKeeperStateHandleStore.html" title="ZooKeeperStateHandleStore中的类型参数">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/zookeeper/ZooKeeperStateHandleStore.html#get-java.lang.String-">get</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;pathInZooKeeper)</code>
<div class="block">Gets a state handle from ZooKeeper.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="java.util中的类或接口">List</a>&lt;org.apache.flink.api.java.tuple.Tuple2&lt;<a href="../../../../../org/apache/flink/runtime/state/StateHandle.html" title="org.apache.flink.runtime.state中的接口">StateHandle</a>&lt;<a href="../../../../../org/apache/flink/runtime/zookeeper/ZooKeeperStateHandleStore.html" title="ZooKeeperStateHandleStore中的类型参数">T</a>&gt;,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/zookeeper/ZooKeeperStateHandleStore.html#getAll--">getAll</a></span>()</code>
<div class="block">Gets all available state handles from ZooKeeper.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html?is-external=true" title="java.util中的类或接口">Collection</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/zookeeper/ZooKeeperStateHandleStore.html#getAllPaths--">getAllPaths</a></span>()</code>
<div class="block">Return a list of all valid paths for state handles.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="java.util中的类或接口">List</a>&lt;org.apache.flink.api.java.tuple.Tuple2&lt;<a href="../../../../../org/apache/flink/runtime/state/StateHandle.html" title="org.apache.flink.runtime.state中的接口">StateHandle</a>&lt;<a href="../../../../../org/apache/flink/runtime/zookeeper/ZooKeeperStateHandleStore.html" title="ZooKeeperStateHandleStore中的类型参数">T</a>&gt;,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/zookeeper/ZooKeeperStateHandleStore.html#getAllSortedByName--">getAllSortedByName</a></span>()</code>
<div class="block">Gets all available state handles from ZooKeeper sorted by name (ascending).</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/zookeeper/ZooKeeperStateHandleStore.html#remove-java.lang.String-">remove</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;pathInZooKeeper)</code>
<div class="block">Removes a state handle from ZooKeeper.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/zookeeper/ZooKeeperStateHandleStore.html#remove-java.lang.String-org.apache.curator.framework.api.BackgroundCallback-">remove</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;pathInZooKeeper,
      org.apache.curator.framework.api.BackgroundCallback&nbsp;callback)</code>
<div class="block">Removes a state handle from ZooKeeper asynchronously.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/zookeeper/ZooKeeperStateHandleStore.html#removeAndDiscardAllState--">removeAndDiscardAllState</a></span>()</code>
<div class="block">Discards all available state handles and removes them from ZooKeeper.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/zookeeper/ZooKeeperStateHandleStore.html#removeAndDiscardState-java.lang.String-">removeAndDiscardState</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;pathInZooKeeper)</code>
<div class="block">Discards a state handle and removes it from ZooKeeper.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/flink/runtime/zookeeper/ZooKeeperStateHandleStore.html#replace-java.lang.String-int-T-">replace</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;pathInZooKeeper,
       int&nbsp;expectedVersion,
       <a href="../../../../../org/apache/flink/runtime/zookeeper/ZooKeeperStateHandleStore.html" title="ZooKeeperStateHandleStore中的类型参数">T</a>&nbsp;state)</code>
<div class="block">Replaces a state handle in ZooKeeper and discards the old state handle.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone--" title="java.lang中的类或接口">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="java.lang中的类或接口">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize--" title="java.lang中的类或接口">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass--" title="java.lang中的类或接口">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="java.lang中的类或接口">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify--" title="java.lang中的类或接口">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="java.lang中的类或接口">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString--" title="java.lang中的类或接口">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait--" title="java.lang中的类或接口">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="java.lang中的类或接口">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="java.lang中的类或接口">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>字段详细资料</h3>
<a name="LOG">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>LOG</h4>
<pre>public static&nbsp;org.slf4j.Logger LOG</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>构造器详细资料</h3>
<a name="ZooKeeperStateHandleStore-org.apache.curator.framework.CuratorFramework-org.apache.flink.runtime.zookeeper.StateStorageHelper-java.util.concurrent.Executor-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ZooKeeperStateHandleStore</h4>
<pre>public&nbsp;ZooKeeperStateHandleStore(org.apache.curator.framework.CuratorFramework&nbsp;client,
                                 <a href="../../../../../org/apache/flink/runtime/zookeeper/StateStorageHelper.html" title="org.apache.flink.runtime.zookeeper中的接口">StateStorageHelper</a>&nbsp;storage,
                                 <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executor.html?is-external=true" title="java.util.concurrent中的类或接口">Executor</a>&nbsp;executor)</pre>
<div class="block">Creates a <a href="../../../../../org/apache/flink/runtime/zookeeper/ZooKeeperStateHandleStore.html" title="org.apache.flink.runtime.zookeeper中的类"><code>ZooKeeperStateHandleStore</code></a>.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>client</code> - The Curator ZooKeeper client. <strong>Important:</strong> It is
                            expected that the client's namespace ensures that the root
                            path is exclusive for all state handles managed by this
                            instance, e.g. <code>client.usingNamespace("/stateHandles")</code></dd>
<dd><code>storage</code> - to persist the actual state and whose returned state handle is then written
                to ZooKeeper</dd>
<dd><code>executor</code> - to run the ZooKeeper callbacks</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="add-java.lang.String-java.io.Serializable-">
<!--   -->
</a><a name="add-java.lang.String-T-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/flink/runtime/state/StateHandle.html" title="org.apache.flink.runtime.state中的接口">StateHandle</a>&lt;<a href="../../../../../org/apache/flink/runtime/zookeeper/ZooKeeperStateHandleStore.html" title="ZooKeeperStateHandleStore中的类型参数">T</a>&gt;&nbsp;add(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;pathInZooKeeper,
                          <a href="../../../../../org/apache/flink/runtime/zookeeper/ZooKeeperStateHandleStore.html" title="ZooKeeperStateHandleStore中的类型参数">T</a>&nbsp;state)
                   throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="java.lang中的类或接口">Exception</a></pre>
<div class="block">Creates a state handle and stores it in ZooKeeper with create mode <code>CreateMode.PERSISTENT</code>.</div>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="java.lang中的类或接口">Exception</a></code></dd>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../../org/apache/flink/runtime/zookeeper/ZooKeeperStateHandleStore.html#add-java.lang.String-T-org.apache.zookeeper.CreateMode-"><code>add(String, Serializable, CreateMode)</code></a></dd>
</dl>
</li>
</ul>
<a name="add-java.lang.String-java.io.Serializable-org.apache.zookeeper.CreateMode-">
<!--   -->
</a><a name="add-java.lang.String-T-org.apache.zookeeper.CreateMode-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/flink/runtime/state/StateHandle.html" title="org.apache.flink.runtime.state中的接口">StateHandle</a>&lt;<a href="../../../../../org/apache/flink/runtime/zookeeper/ZooKeeperStateHandleStore.html" title="ZooKeeperStateHandleStore中的类型参数">T</a>&gt;&nbsp;add(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;pathInZooKeeper,
                          <a href="../../../../../org/apache/flink/runtime/zookeeper/ZooKeeperStateHandleStore.html" title="ZooKeeperStateHandleStore中的类型参数">T</a>&nbsp;state,
                          org.apache.zookeeper.CreateMode&nbsp;createMode)
                   throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="java.lang中的类或接口">Exception</a></pre>
<div class="block">Creates a state handle and stores it in ZooKeeper.

 <p><strong>Important</strong>: This will <em>not</em> store the actual state in
 ZooKeeper, but create a state handle and store it in ZooKeeper. This level of indirection
 makes sure that data in ZooKeeper is small.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>pathInZooKeeper</code> - Destination path in ZooKeeper (expected to *not* exist yet and
                        start with a '/')</dd>
<dd><code>state</code> - State to be added</dd>
<dd><code>createMode</code> - The create mode for the new path in ZooKeeper</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>Created <a href="../../../../../org/apache/flink/runtime/state/StateHandle.html" title="org.apache.flink.runtime.state中的接口"><code>StateHandle</code></a></dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="java.lang中的类或接口">Exception</a></code> - If a ZooKeeper or state handle operation fails</dd>
</dl>
</li>
</ul>
<a name="replace-java.lang.String-int-java.io.Serializable-">
<!--   -->
</a><a name="replace-java.lang.String-int-T-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>replace</h4>
<pre>public&nbsp;void&nbsp;replace(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;pathInZooKeeper,
                    int&nbsp;expectedVersion,
                    <a href="../../../../../org/apache/flink/runtime/zookeeper/ZooKeeperStateHandleStore.html" title="ZooKeeperStateHandleStore中的类型参数">T</a>&nbsp;state)
             throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="java.lang中的类或接口">Exception</a></pre>
<div class="block">Replaces a state handle in ZooKeeper and discards the old state handle.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>pathInZooKeeper</code> - Destination path in ZooKeeper (expected to exist and start with a '/')</dd>
<dd><code>expectedVersion</code> - Expected version of the node to replace</dd>
<dd><code>state</code> - The new state to replace the old one</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="java.lang中的类或接口">Exception</a></code> - If a ZooKeeper or state handle operation fails</dd>
</dl>
</li>
</ul>
<a name="exists-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>exists</h4>
<pre>public&nbsp;int&nbsp;exists(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;pathInZooKeeper)
           throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="java.lang中的类或接口">Exception</a></pre>
<div class="block">Returns the version of the node if it exists or <code>-1</code> if it doesn't.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>pathInZooKeeper</code> - Path in ZooKeeper to check</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>Version of the ZNode if the path exists, <code>-1</code> otherwise.</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="java.lang中的类或接口">Exception</a></code> - If the ZooKeeper operation fails</dd>
</dl>
</li>
</ul>
<a name="get-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/flink/runtime/state/StateHandle.html" title="org.apache.flink.runtime.state中的接口">StateHandle</a>&lt;<a href="../../../../../org/apache/flink/runtime/zookeeper/ZooKeeperStateHandleStore.html" title="ZooKeeperStateHandleStore中的类型参数">T</a>&gt;&nbsp;get(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;pathInZooKeeper)
                   throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="java.lang中的类或接口">Exception</a></pre>
<div class="block">Gets a state handle from ZooKeeper.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>pathInZooKeeper</code> - Path in ZooKeeper to get the state handle from (expected to
                        exist and start with a '/').</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>The state handle</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="java.lang中的类或接口">Exception</a></code> - If a ZooKeeper or state handle operation fails</dd>
</dl>
</li>
</ul>
<a name="getAllPaths--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllPaths</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html?is-external=true" title="java.util中的类或接口">Collection</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&gt;&nbsp;getAllPaths()
                               throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="java.lang中的类或接口">Exception</a></pre>
<div class="block">Return a list of all valid paths for state handles.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>List of valid state handle paths in ZooKeeper</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="java.lang中的类或接口">Exception</a></code> - if a ZooKeeper operation fails</dd>
</dl>
</li>
</ul>
<a name="getAll--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAll</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="java.util中的类或接口">List</a>&lt;org.apache.flink.api.java.tuple.Tuple2&lt;<a href="../../../../../org/apache/flink/runtime/state/StateHandle.html" title="org.apache.flink.runtime.state中的接口">StateHandle</a>&lt;<a href="../../../../../org/apache/flink/runtime/zookeeper/ZooKeeperStateHandleStore.html" title="ZooKeeperStateHandleStore中的类型参数">T</a>&gt;,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&gt;&gt;&nbsp;getAll()
                                                                           throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="java.lang中的类或接口">Exception</a></pre>
<div class="block">Gets all available state handles from ZooKeeper.

 <p>If there is a concurrent modification, the operation is retried until it succeeds.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>All state handles from ZooKeeper.</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="java.lang中的类或接口">Exception</a></code> - If a ZooKeeper or state handle operation fails</dd>
</dl>
</li>
</ul>
<a name="getAllSortedByName--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllSortedByName</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="java.util中的类或接口">List</a>&lt;org.apache.flink.api.java.tuple.Tuple2&lt;<a href="../../../../../org/apache/flink/runtime/state/StateHandle.html" title="org.apache.flink.runtime.state中的接口">StateHandle</a>&lt;<a href="../../../../../org/apache/flink/runtime/zookeeper/ZooKeeperStateHandleStore.html" title="ZooKeeperStateHandleStore中的类型参数">T</a>&gt;,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&gt;&gt;&nbsp;getAllSortedByName()
                                                                                       throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="java.lang中的类或接口">Exception</a></pre>
<div class="block">Gets all available state handles from ZooKeeper sorted by name (ascending).

 <p>If there is a concurrent modification, the operation is retried until it succeeds.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>All state handles in ZooKeeper.</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="java.lang中的类或接口">Exception</a></code> - If a ZooKeeper or state handle operation fails</dd>
</dl>
</li>
</ul>
<a name="remove-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove</h4>
<pre>public&nbsp;void&nbsp;remove(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;pathInZooKeeper)
            throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="java.lang中的类或接口">Exception</a></pre>
<div class="block">Removes a state handle from ZooKeeper.

 <p><strong>Important</strong>: this does not discard the state handle. If you want to
 discard the state handle call <a href="../../../../../org/apache/flink/runtime/zookeeper/ZooKeeperStateHandleStore.html#removeAndDiscardState-java.lang.String-"><code>removeAndDiscardState(String)</code></a>.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>pathInZooKeeper</code> - Path of state handle to remove (expected to start with a '/')</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="java.lang中的类或接口">Exception</a></code> - If the ZooKeeper operation fails</dd>
</dl>
</li>
</ul>
<a name="remove-java.lang.String-org.apache.curator.framework.api.BackgroundCallback-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove</h4>
<pre>public&nbsp;void&nbsp;remove(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;pathInZooKeeper,
                   org.apache.curator.framework.api.BackgroundCallback&nbsp;callback)
            throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="java.lang中的类或接口">Exception</a></pre>
<div class="block">Removes a state handle from ZooKeeper asynchronously.

 <p><strong>Important</strong>: this does not discard the state handle. If you want to
 discard the state handle call <a href="../../../../../org/apache/flink/runtime/zookeeper/ZooKeeperStateHandleStore.html#removeAndDiscardState-java.lang.String-"><code>removeAndDiscardState(String)</code></a>.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>pathInZooKeeper</code> - Path of state handle to remove (expected to start with a '/')</dd>
<dd><code>callback</code> - The callback after the operation finishes</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="java.lang中的类或接口">Exception</a></code> - If the ZooKeeper operation fails</dd>
</dl>
</li>
</ul>
<a name="removeAndDiscardState-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeAndDiscardState</h4>
<pre>public&nbsp;void&nbsp;removeAndDiscardState(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;pathInZooKeeper)
                           throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="java.lang中的类或接口">Exception</a></pre>
<div class="block">Discards a state handle and removes it from ZooKeeper.

 <p>If you only want to remove the state handle in ZooKeeper call <a href="../../../../../org/apache/flink/runtime/zookeeper/ZooKeeperStateHandleStore.html#remove-java.lang.String-"><code>remove(String)</code></a>.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>pathInZooKeeper</code> - Path of state handle to discard (expected to start with a '/')</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="java.lang中的类或接口">Exception</a></code> - If the ZooKeeper or state handle operation fails</dd>
</dl>
</li>
</ul>
<a name="removeAndDiscardAllState--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>removeAndDiscardAllState</h4>
<pre>public&nbsp;void&nbsp;removeAndDiscardAllState()
                              throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="java.lang中的类或接口">Exception</a></pre>
<div class="block">Discards all available state handles and removes them from ZooKeeper.</div>
<dl>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="java.lang中的类或接口">Exception</a></code> - If a ZooKeeper or state handle operation fails</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/ZooKeeperStateHandleStore.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../index-all.html">索引</a></li>
<li><a href="../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/flink/runtime/zookeeper/StateStorageHelper.html" title="org.apache.flink.runtime.zookeeper中的接口"><span class="typeNameLink">上一个类</span></a></li>
<li>下一个类</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/flink/runtime/zookeeper/ZooKeeperStateHandleStore.html" target="_top">框架</a></li>
<li><a href="ZooKeeperStateHandleStore.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li><a href="#field.summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field.detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2014&#x2013;2017 <a href="http://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</body>
</html>
